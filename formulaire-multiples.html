<!DOCTYPE html>
<html lang="fr" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title></title>
        <style media="screen">
            table{
                width: 100%;
            }
        </style>
    </head>
    <body>
        <table class="sort">
            <thead>
                <tr>
                    <td>
                        Prénom  <br/>
                        <input type="text" data-column="0" id="prenom" name="prenom" value="">
                    </td>
                    <td>
                        Nom  <br/>
                        <input type="text" data-column="1" id="nom" name="nom" value="">
                    </td>
                    <td>
                        Métier<br/>
                        <input type="text" data-column="2" id="profession" name="profession" value="">
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Boussad</td>
                    <td>Sadadou</td>
                    <td>Développeur</td>
                </tr>
                <tr>
                    <td>Emannuel</td>
                    <td>Bailly-Salin</td>
                    <td>Coach</td>
                </tr>
                <tr>
                    <td>Jean</td>
                    <td>Deschamps</td>
                    <td>Ouvrier</td>
                </tr>
                <tr>
                    <td>Julien</td>
                    <td>Yarb</td>
                    <td>Développeur</td>
                </tr>
                <tr>
                    <td>Gabriel</td>
                    <td>Lucien</td>
                    <td>Développeur</td>
                </tr>
                <tr>
                    <td>Michel</td>
                    <td>Chevassu</td>
                    <td>Coach</td>
                </tr>
            </tbody>
        </table>

        
        <table class="sort">
            <thead>
                <tr>
                    <td>
                        Prénom  <br/>
                        <input type="text" data-column="0" id="firstname" name="prenom" value="">
                    </td>
                    <td>
                        Nom  <br/>
                        <input type="text" data-column="1" id="lastname" name="nom" value="">
                    </td>
                    <td>
                        Type<br/>
                    </td>
                    <td>
                        ???<br/>
                        <input type="text" data-column="3" id="type" name="profession" value="">
                    </td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Alexandre</td>
                    <td>Astier</td>
                    <td>Acteur</td>
                    <td>Série</td>
                </tr>
                <tr>
                    <td>Albus</td>
                    <td>Dumbledore</td>
                    <td>Personnage</td>
                    <td>Livre</td>
                </tr>
                <tr>
                    <td>Roger</td>
                    <td>Carel</td>
                    <td>Acteur</td>
                    <td>Films</td>
                </tr>
                <tr>
                    <td>Arthur</td>
                    <td>Pendragon</td>
                    <td>Personnage</td>
                    <td>Livre</td>
                </tr>
            </tbody>
        </table>
    </body>


    <script type="text/javascript">

        function search(tableaux){
            tableaux.element.querySelectorAll('tbody tr').forEach(function(line){
                count = 0;
                count_input = 0;
                columns = line.querySelectorAll('td');

                for(var x = 0; x < tableaux.inputs.length; x ++){
                    input = tableaux.inputs[x];
                    inputValue = input.value;

                    if(inputValue != ''){
                        count_input ++;

                        column_id = input.dataset.column;
                        chaineChamp = columns[column_id].innerText;

                        if(inputValue === chaineChamp.toLowerCase().substr(0, inputValue.length)){
                            count ++;
                        }
                    }
                }

                if(count == count_input){
                    line.style.display = "table-row";
                }
                else{
                    line.style.display = "none";
                }
            });
        }

        document.querySelectorAll('.sort').forEach(function(element){
            filtres_listes = {};
            filtres_listes.element = element;
            filtres_listes.inputs = element.querySelectorAll('thead input');
            filtres_listes.lignes = element.querySelectorAll('tbody tr');

            filtres_listes.inputs.forEach(function(input){
                input.addEventListener("keyup", search.bind(null, filtres_listes), false)
            })
        });

    </script>
</html>
